(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[308],{8966:function(e,s,t){Promise.resolve().then(t.t.bind(t,231,23)),Promise.resolve().then(t.bind(t,8079)),Promise.resolve().then(t.bind(t,232))},7138:function(e,s,t){"use strict";t.d(s,{default:function(){return n.a}});var a=t(231),n=t.n(a)},7188:function(e,s,t){"use strict";t.d(s,{Z:function(){return n}});var a=t(7437);function n(){return(0,a.jsx)("div",{className:"preloader",children:(0,a.jsx)("img",{src:"/assets/images/loader.gif"})})}},8079:function(e,s,t){"use strict";t.d(s,{default:function(){return m}});var a=t(7437),n=t(2265),r=t(7138),i=e=>(0,a.jsxs)("div",{className:"single-comment",children:[(0,a.jsx)("div",{className:"user-thumb",children:(0,a.jsx)("img",{className:"avatar-small circle",src:"/assets/images/avatar-small.png",alt:""})}),(0,a.jsxs)("div",{className:"comments-body",children:[(0,a.jsx)("h4",{children:e.username}),(0,a.jsx)("p",{children:e.message}),(0,a.jsxs)(r.default,{href:"#",children:[(0,a.jsx)("i",{className:"ti-back-right"}),"Reply"]})]})]}),l=t(7188);function c(e){let{postId:s}=e,[t,r]=(0,n.useState)({id:null,postId:null,username:"",message:""}),[i,l]=(0,n.useState)(!1),c=e=>{r(t=>({...t,postId:s,id:Math.floor(100*Math.random()),[e.target.name]:e.target.value}))},m="";return i&&(m="Your comment has been successfully posted. Reload to see your comment."),(0,a.jsxs)(a.Fragment,{children:[m,(0,a.jsxs)("div",{className:"comment-form",children:[(0,a.jsx)("h4",{className:"comment-title",children:"Leave a comment"}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),console.log("Comment form",t),e.target.reset(),l(!0),r({id:null,postId:null,username:"",message:""})},children:[(0,a.jsx)("input",{name:"username",type:"text",placeholder:"Your name",onChange:c,required:!0}),(0,a.jsx)("textarea",{name:"message",placeholder:"Write Comments",onChange:c,required:!0}),(0,a.jsx)("button",{type:"submit",className:"btn btn-filled btn-round",children:"Submit"})]})]})]})}function m(e){let{postId:s}=e,[t,r]=(0,n.useState)([]);return((0,n.useEffect)(()=>{(async()=>{let e=await fetch("/api/comments");r(await e.json())})()},[]),t.length)?(0,a.jsxs)(a.Fragment,{children:[t&&(0,a.jsxs)("div",{className:"comments",children:[(0,a.jsx)("h4",{className:"comment-title",children:"comments"}),(0,a.jsx)("ul",{children:t.map(e=>(0,a.jsx)(n.Fragment,{children:e.postId===+s&&(0,a.jsx)("li",{children:(0,a.jsx)(i,{id:e.id,username:e.username,message:e.message})})},e.id))})]}),(0,a.jsx)(c,{postId:s})]}):(0,a.jsx)(l.Z,{})}},232:function(e,s,t){"use strict";t.d(s,{default:function(){return l}});var a=t(7437),n=t(7138),r=t(2265),i=t(7188);function l(e){let{postId:s}=e,[t,l]=(0,r.useState)();if((0,r.useEffect)(()=>{(async()=>{let e=await fetch("/api/posts");l((await e.json()).find(e=>e.id===+s))})()},[]),!t)return(0,a.jsx)(i.Z,{});let{body:c,meta:m,title:o}=t;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("article",{className:"entry-content",children:[(0,a.jsx)("img",{src:"/assets/images/post/1.jpg",alt:""}),(0,a.jsxs)("div",{className:"meta-tags",children:[(0,a.jsxs)(n.default,{href:"#",className:"post-meta",children:[(0,a.jsx)("i",{className:"ti-time"}),m.created]}),(0,a.jsxs)(n.default,{href:"#",className:"post-meta",children:[(0,a.jsx)("i",{className:"ti-package"}),m.categories.join(", ")]}),(0,a.jsxs)(n.default,{href:"#",className:"post-meta",children:[(0,a.jsx)("i",{className:"ti-tag"}),m.tags.join(", ")]})]}),(0,a.jsx)("h3",{children:o}),(0,a.jsx)("p",{children:c})]})})}}},function(e){e.O(0,[231,971,23,744],function(){return e(e.s=8966)}),_N_E=e.O()}]);